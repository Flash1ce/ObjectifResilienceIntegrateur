@page 
@using Web.Pages
@model Web.Pages.AdminMenuModel
@using Domain.Entities
@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers
@{
    ViewData["Title"] = "Admin menu";
}

<div>
    <h1>Panel Admin</h1>
    <ul class="adminMenuUl">
        <li class="adminMenuLi table1Em"><a href="?tab=utilisateurs">Utilisateurs</a></li>
        <li class="adminMenuLi table1Em"><a href="?tab=formations">Formation</a></li>

    </ul>
    <table border="1">

        @if (ViewData["Tab"] is not null)
        {
            @if (@ViewData["Tab"].ToString() == "formations")
            {
                <tr>
                    <td class="center">Id</td>
                    <td class="center">Nom</td>
                    <td class="center">Description</td>
                    <td><a asp-page="formation" asp-route-id="" class="btn btn-success btn-sm text-white">Ajouter une formation</a></td>
                </tr>
                @foreach (var formation in ViewData["lstFormations"] as IList<Formation>)
                {
                    <tr>
                        <td class="center table1Em">
                            @formation.Id
                        </td>
                        <td class="center table1Em">
                            @formation.Name
                        </td>
                        <td class="center table1Em">
                            @formation.Description
                        </td>
                        <td class="center table1Em">
                            <a asp-page="formation" asp-route-id="@formation.Id" class="btn btn-success btn-sm text-white">Modifier</a>
                        </td>
                    </tr>
                }
            }
            @if (@ViewData["Tab"].ToString() == "utilisateurs")
            {
                <tr>
                    <td class="center">Id</td>
                    <td class="center">Prénom</td>
                    <td class="center">Nom de Famille</td>
                    <td class="center">Email</td>
                    <td class="center">Username</td>
                    <td class="center">Date de création</td>
                    <td><a asp-page="user" asp-route-id="" class="btn btn-success btn-sm text-white">Ajouter un utilisateur</a></td>
                </tr>
                @foreach (var user in ViewData["lstUsers"] as IList<User>)
                {
                    <tr>
                        <td class="center table1Em">
                            @user.Id
                        </td>
                        <td class="center table1Em">
                            @user.FirstName
                        </td>
                        <td class="center table1Em">
                            @user.LastName
                        </td>
                        <td class="center table1Em">
                            @user.Email
                        </td>
                        <td class="center table1Em">
                            @user.UserName
                        </td>
                        <td class="center table1Em">
                            @user.CreationDate
                        </td>
                        <td class="center table1Em">
                            <a asp-page="user" asp-route-id="@user.Id" class="btn btn-success btn-sm text-white">Modifier</a>
                        </td>
                    </tr>
                }
            }
        }



    </table>
</div>

<style>
    .center {
        text-align: center;
    }

    .table1Em {
        padding: 1em;
    }

    .adminMenuUl {
        list-style-type: none;
        margin: 0;
        padding: 0;
        overflow: hidden;
        background-color: #333;
    }

    .adminMenuLi {
        float: left;
    }

    .adminMenuA {
        display: block;
        color: white;
        text-align: center;
        padding: 14px 16px;
        text-decoration: none;
    }

    .adminMenuLi a:hover {
        background-color: #111;
    }
</style>
