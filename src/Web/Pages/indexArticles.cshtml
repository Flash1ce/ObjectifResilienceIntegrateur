@page
@using Web.Pages
@using Microsoft.AspNetCore.Components.Forms
@using IdentityServer4.Extensions
@model Web.Pages.ArticleIndexModel
@{
    ViewData["Title"] = "Articles";
}

<!-- Entête de la page (Titre + barre de recherche) -->
<nav class="navbar navbar-light shadow-sm">
    <div class="container-fluid">
        <h1>Les Articles</h1>
        @*@if (Model.Input.droitAccess == true)
                    {
            <form class="d-flex" method="post" asp-page="Index" style="display:flex; justify-content: center;">
                <button type="submit" class="btn btn-outline-primary" asp-page-handler="RedirectCreationTuto">Ajouter un tutoriel</button>
            </form>}*@
    </div>
</nav>



<div class="container-fluid">
    <br />
    <div class="main-content">

        <div class="row">
            <!-- Contenue du menu (Ou les filtres de recherche ce trouve) -->
            <div class="col-3" style="padding-right:1.5rem;padding-left:1.5rem;">
                <h4>Filtrer par :</h4>
                <hr />

                <!-- Btn Radio pour le mode de filtre. -->
                <div>
                    <form method="post" asp-page="indexArticles" enctype="multipart/form-data" id="formFiltre">
                        <!--<div class="input-group input-group-sm mb-3">
                    <label for="categorieDataList" style="width: 100%;">Sélectionner une catégorie</label>
                    <input class="form-control shadow-sm" list="categorieDatalistOptions" id="categorieDataList" placeholder="Écrire pour Sélectionner une catégorie..." name="cat">
                    <datalist id="categorieDatalistOptions">
                        <option id="filtreCategorieTous" value="Toutes" selected />-->
                        @*@if (!(@Model.Input.lstCategories.IsNullOrEmpty()))
                        {
                            @foreach (var cat in @Model.Input.lstCategories)
                            {
                                <option id="@cat.Id" value="@cat.Nom" />
                            }
                        }*@
                        <!--</datalist>
                    </div>-->

                        @if (Model.Input.droitAccess == false)
                        {
                            <div class="form-check form-switch">
                                <input class="form-check-input" type="checkbox" role="switch" id="radioFiltreEstPublie" name="radioFiltreEstPublie" value="true" checked hidden>
                                <label class="form-check-label" for="radioFiltreEstPublie" style="margin:0;" hidden>Est pubié</label>
                            </div>
                        }
                        else
                        {
                            <div class="form-check form-switch">
                                <input class="form-check-input" type="checkbox" role="switch" id="radioFiltreEstPublie" name="radioFiltreEstPublie" value="true" checked>
                                <label class="form-check-label" for="radioFiltreEstPublie" style="margin:0;">Est pubié</label>
                            </div>
                        }
                        <br />
                        <input class="form-control me-2" type="search" placeholder="Recherche" id="rechercheValeur" name="rechercheValeur">
                        <br />
                        <div style="display: flex;justify-content:center;">
                            <button data-filtreRecherche class="btn btn-outline-primary" type="submit" @*asp-page-handler="Recherche"*@>Rechercher</button>
                        </div>
                    </form>


            </div>
        </div>

        <!-- Contenue de la page (ou les articles ce trouve) -->
            <div class="col-9">
                <div class="pageDescriptionBox">
                    Voici un ensemble d'articles qui ont été produits lors des formations du Centre Jacques-Cartier.
                </div>
                <div class="row row-cols-1 row-cols-md-3 g-4" id="zoneCardTuto">

                </div>

                <br />
                <br />
            </div>
    </div>
        </div>
            <!-- Navigation de pagination -->
            <div>
                <ul class="pagination justify-content-center" id="navPagination">
                    <li class="page-item"><button class="page-link" style="background-color:#38b000;" data-paginationBtn id="btn-pagination-before">&laquo</button></li>

                    <li class="page-item"><button class="page-link" style="background-color:#38b000;" data-paginationBtn id="btn-pagination-after">&raquo</button></li>
                </ul>
            </div>
</div>

<script src="~/javascript/Article/recherche/script-recherche-utils.js" asp-append-version="true"></script>
<script src="~/javascript/Article/recherche/script-recherche-init.js" asp-append-version="true"></script>
@*<script src="~/javascript/Article/tutorielToastSupprimer.js" asp-append-version="true"></script>
    <script src="~/javascript/Article/tutorielToastUnPublish.js" asp-append-version="true"></script>*@

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.js" integrity="sha512-n/4gHW3atM3QqRcbCn6ewmpxcLAHGaDjpEBu4xZd47N0W2oQ+6q7oc3PXstrJYXcbNU1OHdQ1T7pAP+gi5Yu8g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/2.6.0/umd/popper.min.js" integrity="sha512-BmM0/BQlqh02wuK5Gz9yrbe7VyIVwOzD1o40yi1IsTjriX/NGF37NyXHfmFzIlMmoSIBXgqDiG1VNU6kB5dBbA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
