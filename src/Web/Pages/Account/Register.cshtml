@page
@using Gwenael.Web.Pages.Account
@model Gwenael.Web.Pages.Account.RegisterModel
@{
    ViewData["Title"] = "Inscription";
}

<!-- Entête de la page (Titre + btn retour) -->
<nav class="navbar navbar-light shadow-sm">
    <div class="container-fluid">
        <h1>@ViewData["Title"]</h1>
    </div>
</nav>
<div class="container">
    <div class="row justify-content-center">
        <div class="col-lg-4">
            <br />
            <div class="row justify-content-center">
                <div class="col-lg-12">
                    <form method="post">
                        <h3>Demande d'inscription</h3>
                        <div id="msgSucceeded">
                            @if (ViewData["msgSucceeded"] is not null)
                            {
                                <div class="alert alert-primary" role="alert">@ViewData["msgSucceeded"]</div>
                            }
                        </div>
                        <p style="text-align:center;">Votre demande sera traitée dans les plus brefs délais.</p>
                        <div asp-validation-summary="All" class="text-danger"></div>
                        <div class="form-group">
                            <br />
                            <input type="text" class="form-control" placeholder="Courriel" aria-label="Courriel" asp-for="Input.Email">
                            <span asp-validation-for="Input.Email" class="text-danger"></span>
                        </div>
                        <div class="form-group">
                            <input class="form-control" placeholder="Mot de passe" aria-label="Mot de passe" asp-for="Input.Password" type="password">
                            <span asp-validation-for="Input.Password" class="text-danger"></span>
                        </div>
                        <div class="form-group">
                            <input class="form-control" placeholder="Confirmation du mot de passe" aria-label="Confirmation du mot de passe" asp-for="Input.ConfirmPassword" type="password">
                            <span asp-validation-for="Input.ConfirmPassword" class="text-danger"></span>
                            <p>Vous avez déjà un compte ?  <a asp-page="/Account/Login">Connectez-vous !</a></p>
                        </div>
                        <div class="form-group" style="display:flex; justify-content:end;">
                            <button type="submit" class="btn btn-outline-primary">Envoyer la demande d'inscription</button>
                        </div>
</form>
                </div>
            </div>
        </div>
    </div>
</div>
<script>
    div = document.getElementById("msgSucceeded");
    if (div.childElementCount > 0) {
        setTimeout(function () {
            window.location.href = '/Index';
        }, 10000);
    }
</script>
